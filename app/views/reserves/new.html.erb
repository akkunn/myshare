
<%# room-show-viewのクラスを使用 %>

<% use_day = (@reserve.end_day.to_date - @reserve.start_day.to_date).to_i %>

<div class="room-show-form reserve-new">
  <div class="reserve-new-line">
    <h2>予約内容確認</h2>
  </div>
  <%= form_with model: @reserve, class: 'room-show-formwith' do |f| %>
  
    <div class="reserve-new-price">
      <%= "¥ " + @room.price.to_s + " / " + "日" %>
    </div>
    <%= f.label :start_day ,"開始日" %>
    <%= f.text_field :start_day, readonly: true, value: @reserve.start_day %>
    <%= f.label :end_day ,"終了日" %>
    <%= f.text_field :end_day, readonly: true, value: @reserve.end_day %>
    <div class="reserve-new-line">
      <%= "使用日数 : #{use_day}日" %>
    </div>
    <div class="reserve-new-line">
      <%= "人数 : #{@reserve.number_people}人" %>
    </div>
    <div class="reserve-new-sumprice">
      <%= f.label :sum_price ,"合計金額" %>
    </div>
    <%= f.text_field :sum_price, readonly: true, value: @reserve.number_people.to_i * @room.price.to_i * use_day.to_i %>
    <div class="reserve-new-line">
      <p>上記内容でよろしければ「予約を確定」を押してください。</p>
    </div>

    <%= f.submit "予約を確定", class: "reserve-new-confirm " %>
    <button class="reserve-new-button">
      <%= link_to "ルーム詳細に戻る", room_path(@room) %>
    </button>
    <%= f.hidden_field :room_id, value: @reserve.room_id %>
    <%= f.hidden_field :number_people, value: @reserve.number_people %>

  <% end %>

</div>


